{"version":3,"sources":["Components/KeyFigures/KeyFigures.module.css","Container/Layout/Layout.module.css","Components/SearchBar/SearchBar.module.css","Components/Mixer/Mixer.module.css","Components/Visualisation/Visualisation.module.css","Components/CountryShape/CountryShape.module.css","Components/Visualisation/LineGraph/LineGraph.module.css","Components/SearchBar/SearchBar.js","Components/CountryShape/CountryShape.js","Components/Mixer/Mixer.js","Components/Visualisation/LineGraph/LineGraph.js","Components/KeyFigures/KeyFigures.js","Components/Visualisation/Visualisation.js","Container/Layout/Layout.js","Container/Layout/LayoutContainer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","styles","menu","base","state","backgroundColor","borderRadius","boxShadow","height","option","isDisabled","isSelected","isFocused","menuList","maxHeight","dropdownIndicator","control","isHidden","borderStyle","borderColor","borderWidth","color","singleValue","fontSize","fontWeight","input","searchBar","props","options","query","className","classes","SearchBar","onChange","onSearchChange","menuIsOpen","value","country","components","Control","React","Component","mixer","countryList","shape","Mixer","lineGraph","data","lineChart","width","margin","top","right","left","bottom","vertical","strokeDasharray","strokeWidth","stroke","tick","dataKey","domain","type","cursor","content","renderTooltip","language","fill","activeDot","r","LineGraph","min","max","convert","parseFloat","toString","replace","active","payload","inhab","agglos","tooltip","Tooltip","Math","round","onKeyFigureChange","lang","checkValue","filter","d","keyfigure","map","ID","label","KeyFiguresWrapper","KeyFigures","isRtl","isSearchable","DropdownIndicator","IndicatorSeparator","textAlign","visualisation","keyFigureList","history","location","pathname","dataType","filterData","res","i","push","year","cleanData","Visualisation","Layout","pushQueries","oldParameters","queryType","Object","keys","updatedParams","encodeURIComponent","search","join","this","dataLanguage","c","ISO","length","entries","e","LayoutContainer","newParameters","newQueries","getParams","queryString","parse","App","Countries","Shapefile","routes","component","path","exact","basename","C","key","render","Boolean","window","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.895913c8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"KeyFiguresWrapper\":\"KeyFigures_KeyFiguresWrapper__3jpQR\",\"KeyFigures\":\"KeyFigures_KeyFigures__3DV5s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3XWY9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"SearchBar_SearchBar__2hOf6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Mixer\":\"Mixer_Mixer__3Ls7_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Visualisation\":\"Visualisation_Visualisation__2E_VQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CountryShape\":\"CountryShape_CountryShape__3z8pV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LineGraph\":\"LineGraph_LineGraph__T-tQr\"};","import React from 'react';\nimport classes from './SearchBar.module.css';\nimport Select from 'react-select';\n\nconst searchBar = props => {\n\n    const {\n        options,\n        query,\n    } = props;\n\n    return (\n        <div className={classes.SearchBar}>\n            <Select \n                styles={styles}\n                onChange={props.onSearchChange}\n                menuIsOpen={true}\n                options={options}\n                // isSearchable={false}\n                value={options[query.country-1]}\n                components={{\n                  Control: () => null\n                }}\n            />\n        </div>\n    )\n}\n\nconst styles = {\n    // indicatorSeparator: (base, state) => {\n\n    // },\n    menu: (base, state) => {\n        return {\n            ...base,\n            backgroundColor: \"#fef7e7\",\n            borderRadius: 0,\n            boxShadow: 0,\n            height: '572px',\n            // opacity: \".9\"\n        }\n    },\n    option: (base, { isDisabled, isFocused, isSelected }) => {\n      return {\n        ...base,\n        backgroundColor: isDisabled ? \"#a70000\" : isSelected ? \"#a70000\" : null,\n        // color: isDisabled\n        //   ? '#ccc'\n        //   : isSelected\n        //   ? chroma.contrast(color, 'white') > 2\n        //     ? 'white'\n        //     : 'black'\n        //   : data.color,\n        ':active': {\n          // ...styles[':active'],\n          // backgroundColor: isSelected ? \"#a70000\" : \"#a70000\",\n          // opacity: isSelected ? \".4\" : \".7\",\n          // color: isSelected ? \"#fef7e7\" : \".7\",\n        },\n      }\n    },\n    menuList: (base, state) => {\n        return {\n            ...base,\n            maxHeight: 'none',\n            height: '100%',\n        }\n    },\n    dropdownIndicator: (base, state) => {\n      return { ...base,\n        \n      };\n    },\n    control: (base, state) => {\n      return { ...base,\n        isHidden: true, \n        boxShadow: 'none',\n        backgroundColor: 'none',\n        borderStyle: 'solid', \n        borderColor: '#449999',\n        borderWidth: '0px',\n        color: 'none', \n        \"&:hover\": { \n        }\n      };\n    },\n    singleValue: (base, state) => {\n      return {\n        ...base,\n        fontSize:'2rem',\n        fontWeight:'600',\n        color: '#212529',\n      }\n    },\n    input: (base, state) => {\n      return {\n        ...base,\n        fontSize:'2rem',\n        fontWeight:'900',\n        color: '#212529'\n      }\n    }\n};\n\nexport default searchBar","import React from 'react';\nimport classes from './CountryShape.module.css';\nimport { easeQuadOut } from 'd3-ease';\nimport { Animate } from 'react-move';\nimport { interpolate } from 'flubber';\nimport _ from 'lodash';\nclass CountryShape extends React.Component {\n \n \n    state = {\n        // states: this.props.shape[0].features.map(d => { return d.geometry.coordinates })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        console.log(prevProps.query.country, this.props.query.country)\n    }\n    \n\n    render() {\n        const { \n            shape, query\n         } = this.props;\n        let shapes = { ...shape }.data;\n\n        let countries = shapes.features.map(d => d.geometry.coordinates[0])\n        const { state : { states } } = this;\n\n        const interpolator = interpolate(countries[query.country][0], countries[query.country][0])\n        \n        return (\n            <div>\n                <svg viewBox='0 0 300 300' >\n                <Animate\n                    start={{\n                        opacity: 0,\n                        d: interpolator(1),\n                    }}\n\n                    enter={[\n                        {\n                        opacity: [0.7],\n                        timing: { duration: 1000 },\n                        },\n                    ]}\n\n                    update={{\n                        d: interpolator,\n                        timing: { duration: 1000, ease: easeQuadOut },\n                    }}\n                    >\n                    {(state) => {\n                        return (\n                            <g transform=\"translate(50, 0) scale(5)\">\n                                <path\n                                    fill=\"#a70000\"\n                                    {...state}\n                                />\n                            </g>\n                        )\n                    }}\n                </Animate>\n                </svg>\n            </div>\n        )\n    }\n}\n\nexport default CountryShape;","import React from 'react';\nimport SearchBar from '../SearchBar/SearchBar';\nimport CountryShape from '../CountryShape/CountryShape';\nimport classes from './Mixer.module.css';\n\n\nconst mixer = props => {\n\n    const { \n        countryList,\n        query, shape\n    } = props;\n\n    return (\n        <div className={classes.Mixer}>\n            {/* <CountryShape\n                shape={shape}\n                query={query}\n            /> */}\n            <SearchBar \n                options={countryList}\n                onSearchChange={props.onSearchChange}\n                query={query}\n                />\n        </div>\n    )\n}\n\nexport default mixer;\n","import React from 'react';\nimport { ResponsiveContainer, LineChart, YAxis, XAxis, Line, Tooltip, CartesianGrid  } from 'recharts'\nimport classes from './LineGraph.module.css';\n\nconst lineGraph = props => {\n    const { data, query } = props;\n    let lineChart = (\n        <ResponsiveContainer width=\"100%\" height=\"100%\" >\n            <LineChart data={data.data}\n                margin={{top: 10, right: 20, left: 20, bottom: 10}}\n                >\n                <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n                <XAxis strokeWidth=\"2px\" stroke={'black'} tick={{fontSize: '11px'}} dataKey={'year'} />\n                <YAxis strokeWidth=\"0px\" tick={{fontSize: '11px'}} domain={domain(data.type, 'dataMin', 'dataMax')} />\n                <Tooltip cursor={{ strokeWidth: 0 }} content={renderTooltip} type={data.type} language={query.language} />\n                <Line type=\"monotone\" dataKey=\"value\" strokeWidth=\"3px\" stroke={'#a70000'} fill=\"#a70000\" activeDot={{r: 10}}/>\n            </LineChart>\n        </ResponsiveContainer>\n    )\n\n    return (\n        <div className={classes.LineGraph}>\n            {lineChart}\n        </div>\n    );\n}\n\nexport default lineGraph;\n\nconst domain = (type, min, max) => {\n    let convert = (value) => {\n        return parseFloat(value).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")\n    }\n    let domain = [convert(min), convert(max)];;\n    switch( type.type ) {\n        case 'Upop' : \n            domain = [convert(0), convert(max)];\n        break;\n        case 'Urbanlevel' : \n        domain = [];\n        break;\n        case 'NumAgllos' : \n            domain = [convert(0), convert(max)];\n        break;\n        case 'Mpop' : \n        domain = [];\n        break;\n        case 'ADBA' : \n            domain = [convert(0), convert(max)];\n        break;\n        default: \n        domain = null;\n    }\n    return domain;\n}\n\nconst renderTooltip = props => {\n    if ( props.active && props.payload !== null && props.payload[0] !== null ){\n        let payload = props.payload[0].payload;\n    let inhab = 'inhabitants', agglos = 'agglomerations';\n    if(props.language === 'fr') {\n        inhab = 'habitants'\n        agglos = 'agglomérations';\n    }\n\n\n    let tooltip = null;\n    switch( props.type ) {\n        case 'Upop' : \n            tooltip = (\n                <p className={classes.Tooltip}>\n                    {parseFloat(payload.value).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")} {inhab}\n                </p>\n            )\n        break;\n        case 'Urbanlevel' : \n            tooltip = (\n                <p className={classes.Tooltip}>\n                    {Math.round(payload.value * 100)} %\n                </p>\n            )\n        break;\n        case 'NumAgllos' : \n            tooltip = (\n                <p className={classes.Tooltip}>\n                    {parseFloat(payload.value).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")} {agglos}\n                </p>\n            )\n        break;\n        case 'Mpop' : \n            tooltip = (\n                <p className={classes.Tooltip}>\n                    {Math.round(payload.value * 100)} %\n                </p>\n            )\n        break;\n        case 'ADBA' : \n            tooltip = (\n                <p className={classes.Tooltip}>\n                    {parseFloat(payload.value).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \")} km\n                </p>\n            )\n        break;\n        default: \n            tooltip = null;\n    }\n    \n    return tooltip;\n    \n    }\n}\n","import React from 'react';\nimport classes from './KeyFigures.module.css';\nimport Select from 'react-select';\n\nexport default props => {\n\n    const { data, query, onKeyFigureChange } = props;\n    let lang = 'type';\n    if ( props.language === 'fr') lang = 'type_FR';\n    \n    let checkValue = data.filter(d => d.type === query.keyfigure)\n    let options = data.map(d => ({\n        value: d.ID, label: d[lang]\n    }))\n\n    return (\n        <div className={classes.KeyFiguresWrapper}>\n            <Select \n                options={options}\n                styles={styles}\n                className={classes.KeyFigures}\n                isRtl={true}\n                isSearchable={false}\n                value={options[checkValue[0].ID - 1]}\n                onChange={onKeyFigureChange}\n                components={\n                    {\n                        DropdownIndicator: null,\n                        IndicatorSeparator: null,\n                    }\n                }\n            />\n        </div>\n        // <form className={classes.KeyFigures}>\n        //     {data.map(d => (\n        //         <React.Fragment key={d.ID}>\n        //             <input \n        //                 key={d.ID}\n        //                 type=\"radio\" \n        //                 value={d.ID} \n        //                 checked={checkValue[0].ID === d.ID} \n        //                 onChange={onKeyFigureChange}\n        //             />\n        //             <label>\n        //                 {d[lang]}   \n        //             </label> \n        //         </React.Fragment>\n        //     ))}\n        // </form> \n    );\n};\n\nconst styles = {\n    // indicatorSeparator: (base, state) => {\n\n    // },\n    menu: (base, state) => {\n        return {\n            ...base,\n            backgroundColor: \"#fef7e7\",\n            borderRadius: 0,\n            boxShadow: 0,\n            // opacity: \".9\"\n        }\n    },\n    option: (base, { isDisabled, isFocused, isSelected }) => {\n      return {\n        ...base,\n        backgroundColor: isDisabled ? \"#a70000\" : isSelected ? \"#a70000\" : null,\n        // color: isDisabled\n        //   ? '#ccc'\n        //   : isSelected\n        //   ? chroma.contrast(color, 'white') > 2\n        //     ? 'white'\n        //     : 'black'\n        //   : data.color,\n        ':active': {\n          // ...styles[':active'],\n          // backgroundColor: isSelected ? \"#a70000\" : \"#a70000\",\n          // opacity: isSelected ? \".4\" : \".7\",\n          // color: isSelected ? \"#fef7e7\" : \".7\",\n        },\n      }\n    },\n    menuList: (base, state) => {\n        return {\n            ...base,\n        }\n    },\n    // dropdownIndicator: (base, state) => {\n    //   return { \n    //       ...base,\n    //   };\n    // },\n    control: (base, state) => {\n      return { ...base,\n        isHidden: true, \n        boxShadow: 'none',\n        backgroundColor: 'none',\n        borderStyle: 'solid', \n        borderColor: '#449999',\n        borderWidth: '0px',\n        color: 'none', \n        \"&:hover\": { \n        }\n      };\n    },\n    singleValue: (base, state) => {\n      return {\n        ...base,\n        color: '#212529',\n        textAlign: \"right\",\n      }\n    },\n    input: (base, state) => {\n      return {\n        ...base,\n        color: '#212529'\n      }\n    }\n};","import React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport KeyFigures from '../KeyFigures/KeyFigures';\n\nconst visualisation = props => {\n    const { \n        keyFigureList, \n        language, data,\n        query, history } = props;\n\n    let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n    dataType = keyFigureList.filter(d => d.type === query.keyfigure );\n\n    let filterData = {\n        country: country,\n        data: cleanData(data[dataType[0].label]),\n        type: dataType[0].label\n    }\n    \n    function cleanData(data) {\n        let res = [];\n        for (let i in data) {\n            res.push({ year: i, value: data[i]})\n        }\n        return res;\n    }\n\n    return (\n        <div className={classes.Visualisation}> \n            <KeyFigures \n                language={language}\n                query={query}\n                data={keyFigureList}             \n                onKeyFigureChange={props.onKeyFigureChange}\n             />\n             <LineGraph \n                data={filterData}\n                query={query}\n             />\n        </div>\n    )\n};\n\nexport default visualisation;","import React from 'react';\nimport classes from './Layout.module.css';\nimport Mixer from '../../Components/Mixer/Mixer';\nimport Visualisation from '../../Components/Visualisation/Visualisation';\n\n\nclass Layout extends React.Component {\n    state = { }\n\n    pushQueries = value => {\n\n        let oldParameters, queryType;\n        oldParameters = { ...this.props.query };\n        queryType = Object.keys(value)[0];\n        oldParameters[queryType] = value[queryType];\n        const updatedParams = [];\n\n        for (let i in oldParameters) {\n            updatedParams.push(\n                encodeURIComponent(i) + \"=\" + encodeURIComponent(oldParameters[i])\n                );\n            }\n\n        this.props.history.push({\n\t\t\tpathname: this.props.history.location.pathname,\n\t\t\tsearch: \"?\" + updatedParams.join(\"&\")\n\t\t});\n\t}\n    \n    render() {\n        const { \n            data, shape,\n            history,\n            query,\n            keyFigureList,\n        } = this.props;\n\n        //Set searchbar options\n        let dataLanguage = 'Country'\n        if ( query.lang === 'fr') dataLanguage='Country_FR';\n        let countryList = data.map(c => ({ value: c.ISO, label: c[dataLanguage] }))\n\n\n\n        if ( data.length === 0 ||\n            Object.entries(query).length ===0 ){\n                return <div> Loading ...</div>\n            } else {\n                return (\n                    <div className={classes.Layout}>\n                        <Mixer \n                            shape={shape}\n                            countryList={countryList}\n                            query={query}\n                            onSearchChange={e => this.pushQueries({ country: e.value })}\n                        />\n                        <Visualisation \n                            query={query}\n                            history={history}\n                            onKeyFigureChange={e => this.pushQueries({ \n                                keyfigure: keyFigureList[e.value -1 ].type\n                            })}\n                            language={query.lang}\n                            data={data[query.country - 1]}\n                            keyFigureList={keyFigureList}\n                        />\n                    </div>\n                )\n        }   \n    }\n}\n\n\nexport default Layout;","import React from 'react';\nimport Layout from './Layout';\n\nclass LayoutContainer extends React.Component {\n\n\tcomponentDidMount() {\n        if ( Object.entries(this.props.query).length === 0 ) {\n            this.pushQueries({country: 1, keyfigure: \"Urban population\", lang: 'en'})\n        }\n\t}\n\t\n\tpushQueries = oldParameters => {\n        let newParameters = oldParameters;\n        const updatedParams = [];\n        for (let i in newParameters) {\n            updatedParams.push(\n                encodeURIComponent(i) + \"=\" + encodeURIComponent(newParameters[i])\n            );\n        }\n        const newQueries = updatedParams.join(\"&\");\n\n        return this.props.history.push({\n            pathname: this.props.history.location.pathname,\n            search: \"?\" + newQueries\n        });\n\t}\n\n    render() { return <Layout {...this.props} /> }\n};\n\nexport default LayoutContainer;","import React from 'react';\nimport queryString from 'query-string';\nimport LayoutContainer from './Container/Layout/LayoutContainer';\nimport Countries from './data/countries';\nimport Shapefile from './data/geo_country';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport './App.css';\n\n\nclass App extends React.Component {\n\n\tstate = {\n\t\tcountry: Countries,\n\t\tshape: Shapefile,\n\t}\n\n\trender() {\n\t\tconst { \n\t\t\tcountry, shape\n\t\t} = this.state;\n\n\t\tconst routes = [\n\t\t\t{ ID:1, component: LayoutContainer, path: \"/\", exact: true}\n\t\t];\n\n\t\tlet keyFigureList = [\n            { \"ID\": 1, \"label\": \"Upop\", \"type\": \"Urban population\", \"type_FR\": \"Population urbaine\" },\n            { \"ID\": 2, \"label\": \"Urbanlevel\", \"type\": \"Level of urbanisation\", \"type_FR\": \"Niveau d'urbanisation\" },\n            { \"ID\": 3, \"label\": \"NumAgllos\", \"type\": \"Number of agglomerations\", \"type_FR\": \"Nombre d'agglomérations\" },\n            { \"ID\": 4, \"label\": \"Mpop\", \"type\": \"Metropolitan population\", \"type_FR\": \"Population métropolitaine\" },\n            { \"ID\": 5, \"label\": \"ADBA\", \"type\": \"Average distance between agglomerations\", \"type_FR\": \"Distance moyenne entre les agglomérations\" }\n        ];\n\n\t\treturn (\n\t\t\t<BrowserRouter basename='/pac-digitalstories'>\n\t\t\t\t{routes.map( ({ID, component: C, path, exact}) => (\n\t\t\t\t\t<Route \n\t\t\t\t\t\tkey={ID}\n\t\t\t\t\t\tpath={path}\n\t\t\t\t\t\texact={exact}\n\t\t\t\t\t\trender={( {location, history}) =>\n\t\t\t\t\t\t\t<C \n\t\t\t\t\t\t\t\tquery={getParams(location)} \n\t\t\t\t\t\t\t\thistory={history} \n\t\t\t\t\t\t\t\tdata={country} \n\t\t\t\t\t\t\t\tshape={shape} \n\t\t\t\t\t\t\t\tkeyFigureList={keyFigureList} \n\t\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t\t} \n\t\t\t\t\t/>\n\t\t\t\t) )}\n\t\t\t</BrowserRouter>\n\t\t)\n\t}\n}\n\nfunction getParams(location) {\n\tconst queries = queryString.parse(location.search);\n\treturn queries;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}