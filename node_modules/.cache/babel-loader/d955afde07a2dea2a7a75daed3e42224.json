{"ast":null,"code":"import _objectSpread from \"/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/interactive-graph 2/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/interactive-graph 2/src/Container/Layout/Layout.js\";\nimport React from 'react';\nimport classes from './Layout.module.css';\nimport Mixer from '../../Components/Mixer/Mixer';\nimport Visualisation from '../../Components/Visualisation/Visualisation';\n\nclass Layout extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.pushQueries = value => {\n      let oldParameters, queryType;\n      oldParameters = _objectSpread({}, this.props.query);\n      queryType = Object.keys(value)[0];\n      oldParameters[queryType] = value[queryType];\n      const updatedParams = [];\n\n      for (let i in oldParameters) {\n        updatedParams.push(encodeURIComponent(i) + \"=\" + encodeURIComponent(oldParameters[i]));\n      }\n\n      this.props.history.push({\n        pathname: this.props.history.location.pathname,\n        search: \"?\" + updatedParams.join(\"&\")\n      });\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          data = _this$props.data,\n          history = _this$props.history,\n          query = _this$props.query,\n          keyFigureList = _this$props.keyFigureList; //Set searchbar options\n\n    let dataLanguage = 'Country';\n    if (history.location.pathname === '/fr') dataLanguage = 'Country_FR';\n    let countryList = data.map(c => ({\n      value: c.ISO,\n      label: c[dataLanguage]\n    }));\n\n    if (data.length === 0 || Object.entries(query).length === 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \" Loading ...\");\n    } else {\n      return React.createElement(\"div\", {\n        className: classes.Layout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Mixer, {\n        countryList: countryList,\n        query: query,\n        onSearchChange: e => this.pushQueries({\n          country: e.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Visualisation, {\n        query: query,\n        history: history,\n        onKeyFigureChange: e => this.pushQueries({\n          keyfigure: keyFigureList[e.target.value - 1].type\n        }),\n        language: history.location.pathname,\n        data: data[query.country - 1],\n        keyFigureList: keyFigureList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default Layout;","map":{"version":3,"sources":["/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/interactive-graph 2/src/Container/Layout/Layout.js"],"names":["React","classes","Mixer","Visualisation","Layout","Component","state","pushQueries","value","oldParameters","queryType","props","query","Object","keys","updatedParams","i","push","encodeURIComponent","history","pathname","location","search","join","render","data","keyFigureList","dataLanguage","countryList","map","c","ISO","label","length","entries","e","country","keyfigure","target","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport classes from './Layout.module.css';\nimport Mixer from '../../Components/Mixer/Mixer';\nimport Visualisation from '../../Components/Visualisation/Visualisation';\n\n\nclass Layout extends React.Component {\n    state = { }\n\n    pushQueries = value => {\n\n        let oldParameters, queryType;\n        oldParameters = { ...this.props.query };\n        queryType = Object.keys(value)[0];\n        oldParameters[queryType] = value[queryType];\n        const updatedParams = [];\n\n        for (let i in oldParameters) {\n            updatedParams.push(\n                encodeURIComponent(i) + \"=\" + encodeURIComponent(oldParameters[i])\n                );\n            }\n\n        this.props.history.push({\n\t\t\tpathname: this.props.history.location.pathname,\n\t\t\tsearch: \"?\" + updatedParams.join(\"&\")\n\t\t});\n\t}\n    \n    render() {\n        const { \n            data,\n            history,\n            query,\n            keyFigureList,\n        } = this.props;\n\n        //Set searchbar options\n        let dataLanguage = 'Country'\n        if ( history.location.pathname === '/fr') dataLanguage='Country_FR';\n        let countryList = data.map(c => ({ value: c.ISO, label: c[dataLanguage] }))\n\n\n\n        if ( data.length === 0 ||\n            Object.entries(query).length ===0 ){\n                return <div> Loading ...</div>\n            } else {\n                return (\n                    <div className={classes.Layout}>\n                        <Mixer \n                            countryList={countryList}\n                            query={query}\n                            onSearchChange={e => this.pushQueries({ country: e.value })}\n                        />\n                        <Visualisation \n                            query={query}\n                            history={history}\n                            onKeyFigureChange={e => this.pushQueries({ \n                                keyfigure: keyFigureList[e.target.value -1 ].type\n                            })}\n                            language={history.location.pathname}\n                            data={data[query.country - 1]}\n                            keyFigureList={keyFigureList}\n                        />\n                    </div>\n                )\n        }   \n    }\n}\n\n\nexport default Layout;"]},"metadata":{},"sourceType":"module"}