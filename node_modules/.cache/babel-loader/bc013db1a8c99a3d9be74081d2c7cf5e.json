{"ast":null,"code":"import React from'react';import classes from'./Visualisation.module.css';import LineGraph from'./LineGraph/LineGraph';import LineChart from'./LineChart/LineChart';import KeyFigures from'../KeyFigures/KeyFigures';var visualisation=function visualisation(props){var keyFigureList=props.keyFigureList,language=props.language,data=props.data,query=props.query,history=props.history;var country=history.location.pathname==='/fr'?'Country_FR':'Country',dataType=keyFigureList.filter(function(d){return d.type===query.keyfigure;});var filterData={country:country,data:cleanData(data[dataType[0].label]),type:dataType[0].label};function cleanData(data){var res=[];for(var i in data){res.push({year:i,value:dataType[0].ID===2?data[i]*100:dataType[0].ID===4?data[i]*100:// dataType[0].ID === 1 ? Math.round(data[i]/1000)*1000 :\ndata[i],yAxisKey:data[i]});}return res;}var line=React.createElement(LineGraph,{data:filterData,query:query});var keyfigure=React.createElement(\"div\",{className:classes.KeyFigure__Md_Lg},React.createElement(KeyFigures,{language:language,query:query,data:keyFigureList,onKeyFigureChange:props.onKeyFigureChange}));return React.createElement(\"div\",{className:classes.Visualisation},keyfigure,line);};export default visualisation;","map":{"version":3,"sources":["/Users/wonjiky/Desktop/pac-digitalstories/src/Components/Visualisation/Visualisation.js"],"names":["React","classes","LineGraph","LineChart","KeyFigures","visualisation","props","keyFigureList","language","data","query","history","country","location","pathname","dataType","filter","d","type","keyfigure","filterData","cleanData","label","res","i","push","year","value","ID","yAxisKey","line","KeyFigure__Md_Lg","onKeyFigureChange","Visualisation"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,KAAK,CAAI,IAEvBC,CAAAA,aAFuB,CAIJD,KAJI,CAEvBC,aAFuB,CAGvBC,QAHuB,CAIJF,KAJI,CAGvBE,QAHuB,CAGbC,IAHa,CAIJH,KAJI,CAGbG,IAHa,CAIvBC,KAJuB,CAIJJ,KAJI,CAIvBI,KAJuB,CAIhBC,OAJgB,CAIJL,KAJI,CAIhBK,OAJgB,CAM3B,GAAIC,CAAAA,OAAO,CAAGD,OAAO,CAACE,QAAR,CAAiBC,QAAjB,GAA8B,KAA9B,CAAsC,YAAtC,CAAqD,SAAnE,CACAC,QAAQ,CAAGR,aAAa,CAACS,MAAd,CAAqB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,GAAWR,KAAK,CAACS,SAArB,EAAtB,CADX,CAGA,GAAIC,CAAAA,UAAU,CAAG,CACbR,OAAO,CAAEA,OADI,CAEbH,IAAI,CAAEY,SAAS,CAACZ,IAAI,CAACM,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAAb,CAAL,CAFF,CAGbJ,IAAI,CAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAHL,CAAjB,CAMA,QAASD,CAAAA,SAAT,CAAmBZ,IAAnB,CAAyB,CACrB,GAAIc,CAAAA,GAAG,CAAG,EAAV,CACA,IAAK,GAAIC,CAAAA,CAAT,GAAcf,CAAAA,IAAd,CAAoB,CAChBc,GAAG,CAACE,IAAJ,CAAS,CACLC,IAAI,CAAEF,CADD,CAELG,KAAK,CAAEZ,QAAQ,CAAC,CAAD,CAAR,CAAYa,EAAZ,GAAmB,CAAnB,CAAuBnB,IAAI,CAACe,CAAD,CAAJ,CAAU,GAAjC,CACPT,QAAQ,CAAC,CAAD,CAAR,CAAYa,EAAZ,GAAmB,CAAnB,CAAuBnB,IAAI,CAACe,CAAD,CAAJ,CAAU,GAAjC,CACA;AACAf,IAAI,CAACe,CAAD,CALC,CAMLK,QAAQ,CAAEpB,IAAI,CAACe,CAAD,CANT,CAAT,EAQH,CACD,MAAOD,CAAAA,GAAP,CACH,CAED,GAAIO,CAAAA,IAAI,CAAG,oBAAC,SAAD,EACP,IAAI,CAAEV,UADC,CAEP,KAAK,CAAEV,KAFA,EAAX,CAKA,GAAIS,CAAAA,SAAS,CACT,2BAAK,SAAS,CAAElB,OAAO,CAAC8B,gBAAxB,EACI,oBAAC,UAAD,EACQ,QAAQ,CAAEvB,QADlB,CAEQ,KAAK,CAAEE,KAFf,CAGQ,IAAI,CAAEH,aAHd,CAIQ,iBAAiB,CAAED,KAAK,CAAC0B,iBAJjC,EADJ,CADJ,CAWA,MACI,4BAAK,SAAS,CAAE/B,OAAO,CAACgC,aAAxB,EACKd,SADL,CAEKW,IAFL,CADJ,CAMH,CApDD,CAsDA,cAAezB,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport LineChart from './LineChart/LineChart';\nimport KeyFigures from '../KeyFigures/KeyFigures';\n\nconst visualisation = props => {\n    const { \n        keyFigureList, \n        language, data,\n        query, history } = props;\n\n    let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n    dataType = keyFigureList.filter(d => d.type === query.keyfigure );\n\n    let filterData = {\n        country: country,\n        data: cleanData(data[dataType[0].label]),\n        type: dataType[0].label\n    }\n\n    function cleanData(data) {\n        let res = [];\n        for (let i in data) {\n            res.push({ \n                year: i, \n                value: dataType[0].ID === 2 ? data[i] * 100 : \n                dataType[0].ID === 4 ? data[i] * 100 : \n                // dataType[0].ID === 1 ? Math.round(data[i]/1000)*1000 :\n                data[i],\n                yAxisKey: data[i]\n            })\n        }\n        return res;\n    }\n\n    let line = <LineGraph \n        data={filterData}\n        query={query}\n    />\n\n    let keyfigure = (\n        <div className={classes.KeyFigure__Md_Lg}>\n            <KeyFigures \n                    language={language}\n                    query={query}\n                    data={keyFigureList}             \n                    onKeyFigureChange={props.onKeyFigureChange}\n                />\n        </div>\n    );\n\n    return (\n        <div className={classes.Visualisation}> \n            {keyfigure}\n            {line}\n        </div>\n    )\n};\n\nexport default visualisation;"]},"metadata":{},"sourceType":"module"}