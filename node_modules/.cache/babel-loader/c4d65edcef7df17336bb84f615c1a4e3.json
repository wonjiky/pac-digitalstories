{"ast":null,"code":"var _jsxFileName = \"/Users/wonjikyang/Desktop/pac-digitalstories/src/Components/Visualisation/Visualisation.js\";\nimport React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport LineChart from './LineChart/LineChart';\nimport KeyFigures from '../KeyFigures/KeyFigures';\n\nconst visualisation = props => {\n  const keyFigureList = props.keyFigureList,\n        language = props.language,\n        data = props.data,\n        query = props.query,\n        history = props.history;\n  let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n      dataType = keyFigureList.filter(d => d.type === query.keyfigure);\n  let filterData = {\n    country: country,\n    data: cleanData(data[dataType[0].label]),\n    type: dataType[0].label\n  };\n\n  function cleanData(data) {\n    let res = [];\n\n    for (let i in data) {\n      res.push({\n        year: i,\n        value: dataType[0].ID === 2 ? data[i] * 100 : dataType[0].ID === 4 ? data[i] * 100 : // dataType[0].ID === 1 ? Math.round(data[i]/1000)*1000 :\n        data[i],\n        yAxisKey: data[i]\n      });\n    }\n\n    return res;\n  }\n\n  let line = React.createElement(LineGraph, {\n    data: filterData,\n    query: query,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  });\n  let keyfigure = React.createElement(\"div\", {\n    className: classes.KeyFigure__Md_Lg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(KeyFigures, {\n    language: language,\n    query: query,\n    data: keyFigureList,\n    onKeyFigureChange: props.onKeyFigureChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }));\n  return React.createElement(\"div\", {\n    className: classes.Visualisation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, keyfigure, line);\n};\n\nexport default visualisation;","map":{"version":3,"sources":["/Users/wonjikyang/Desktop/pac-digitalstories/src/Components/Visualisation/Visualisation.js"],"names":["React","classes","LineGraph","LineChart","KeyFigures","visualisation","props","keyFigureList","language","data","query","history","country","location","pathname","dataType","filter","d","type","keyfigure","filterData","cleanData","label","res","i","push","year","value","ID","yAxisKey","line","KeyFigure__Md_Lg","onKeyFigureChange","Visualisation"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;;AAEA,MAAMC,aAAa,GAAGC,KAAK,IAAI;AAAA,QAEvBC,aAFuB,GAIJD,KAJI,CAEvBC,aAFuB;AAAA,QAGvBC,QAHuB,GAIJF,KAJI,CAGvBE,QAHuB;AAAA,QAGbC,IAHa,GAIJH,KAJI,CAGbG,IAHa;AAAA,QAIvBC,KAJuB,GAIJJ,KAJI,CAIvBI,KAJuB;AAAA,QAIhBC,OAJgB,GAIJL,KAJI,CAIhBK,OAJgB;AAM3B,MAAIC,OAAO,GAAGD,OAAO,CAACE,QAAR,CAAiBC,QAAjB,KAA8B,KAA9B,GAAsC,YAAtC,GAAqD,SAAnE;AAAA,MACAC,QAAQ,GAAGR,aAAa,CAACS,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACS,SAA3C,CADX;AAGA,MAAIC,UAAU,GAAG;AACbR,IAAAA,OAAO,EAAEA,OADI;AAEbH,IAAAA,IAAI,EAAEY,SAAS,CAACZ,IAAI,CAACM,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAAb,CAAL,CAFF;AAGbJ,IAAAA,IAAI,EAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYO;AAHL,GAAjB;;AAMA,WAASD,SAAT,CAAmBZ,IAAnB,EAAyB;AACrB,QAAIc,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIC,CAAT,IAAcf,IAAd,EAAoB;AAChBc,MAAAA,GAAG,CAACE,IAAJ,CAAS;AACLC,QAAAA,IAAI,EAAEF,CADD;AAELG,QAAAA,KAAK,EAAEZ,QAAQ,CAAC,CAAD,CAAR,CAAYa,EAAZ,KAAmB,CAAnB,GAAuBnB,IAAI,CAACe,CAAD,CAAJ,GAAU,GAAjC,GACPT,QAAQ,CAAC,CAAD,CAAR,CAAYa,EAAZ,KAAmB,CAAnB,GAAuBnB,IAAI,CAACe,CAAD,CAAJ,GAAU,GAAjC,GACA;AACAf,QAAAA,IAAI,CAACe,CAAD,CALC;AAMLK,QAAAA,QAAQ,EAAEpB,IAAI,CAACe,CAAD;AANT,OAAT;AAQH;;AACD,WAAOD,GAAP;AACH;;AAED,MAAIO,IAAI,GAAG,oBAAC,SAAD;AACP,IAAA,IAAI,EAAEV,UADC;AAEP,IAAA,KAAK,EAAEV,KAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAX;AAKA,MAAIS,SAAS,GACT;AAAK,IAAA,SAAS,EAAElB,OAAO,CAAC8B,gBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AACQ,IAAA,QAAQ,EAAEvB,QADlB;AAEQ,IAAA,KAAK,EAAEE,KAFf;AAGQ,IAAA,IAAI,EAAEH,aAHd;AAIQ,IAAA,iBAAiB,EAAED,KAAK,CAAC0B,iBAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAWA,SACI;AAAK,IAAA,SAAS,EAAE/B,OAAO,CAACgC,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKd,SADL,EAEKW,IAFL,CADJ;AAMH,CApDD;;AAsDA,eAAezB,aAAf","sourcesContent":["import React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport LineChart from './LineChart/LineChart';\nimport KeyFigures from '../KeyFigures/KeyFigures';\n\nconst visualisation = props => {\n    const { \n        keyFigureList, \n        language, data,\n        query, history } = props;\n\n    let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n    dataType = keyFigureList.filter(d => d.type === query.keyfigure );\n\n    let filterData = {\n        country: country,\n        data: cleanData(data[dataType[0].label]),\n        type: dataType[0].label\n    }\n\n    function cleanData(data) {\n        let res = [];\n        for (let i in data) {\n            res.push({ \n                year: i, \n                value: dataType[0].ID === 2 ? data[i] * 100 : \n                dataType[0].ID === 4 ? data[i] * 100 : \n                // dataType[0].ID === 1 ? Math.round(data[i]/1000)*1000 :\n                data[i],\n                yAxisKey: data[i]\n            })\n        }\n        return res;\n    }\n\n    let line = <LineGraph \n        data={filterData}\n        query={query}\n    />\n\n    let keyfigure = (\n        <div className={classes.KeyFigure__Md_Lg}>\n            <KeyFigures \n                    language={language}\n                    query={query}\n                    data={keyFigureList}             \n                    onKeyFigureChange={props.onKeyFigureChange}\n                />\n        </div>\n    );\n\n    return (\n        <div className={classes.Visualisation}> \n            {keyfigure}\n            {line}\n        </div>\n    )\n};\n\nexport default visualisation;"]},"metadata":{},"sourceType":"module"}