{"ast":null,"code":"import React from'react';import classes from'./Visualisation.module.css';import LineGraph from'./LineGraph/LineGraph';import KeyFigures from'../KeyFigures/KeyFigures';import _ from'lodash';var visualisation=function visualisation(props){var keyFigureList=props.keyFigureList,language=props.language,data=props.data,query=props.query,history=props.history;var country=history.location.pathname==='/fr'?'Country_FR':'Country',dataType=keyFigureList.filter(function(d){return d.type===query.keyfigure;});var filterData={country:country,data:cleanData(data[dataType[0].label]),type:dataType[0].label};function cleanData(data){var res=[];for(var i in data){res.push({year:i,value:data[i]});}return res;}return React.createElement(\"div\",{className:classes.Visualisation},React.createElement(LineGraph,{data:filterData}),React.createElement(KeyFigures,{language:language,query:query,data:keyFigureList,onKeyFigureChange:props.onKeyFigureChange}));};export default visualisation;","map":{"version":3,"sources":["/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/pac-digitalstories/src/Components/Visualisation/Visualisation.js"],"names":["React","classes","LineGraph","KeyFigures","_","visualisation","props","keyFigureList","language","data","query","history","country","location","pathname","dataType","filter","d","type","keyfigure","filterData","cleanData","label","res","i","push","year","value","Visualisation","onKeyFigureChange"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,KAAK,CAAI,IAEvBC,CAAAA,aAFuB,CAIJD,KAJI,CAEvBC,aAFuB,CAGvBC,QAHuB,CAIJF,KAJI,CAGvBE,QAHuB,CAGbC,IAHa,CAIJH,KAJI,CAGbG,IAHa,CAIvBC,KAJuB,CAIJJ,KAJI,CAIvBI,KAJuB,CAIhBC,OAJgB,CAIJL,KAJI,CAIhBK,OAJgB,CAM3B,GAAIC,CAAAA,OAAO,CAAGD,OAAO,CAACE,QAAR,CAAiBC,QAAjB,GAA8B,KAA9B,CAAsC,YAAtC,CAAqD,SAAnE,CACAC,QAAQ,CAAGR,aAAa,CAACS,MAAd,CAAqB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,IAAF,GAAWR,KAAK,CAACS,SAArB,EAAtB,CADX,CAGA,GAAIC,CAAAA,UAAU,CAAG,CACbR,OAAO,CAAEA,OADI,CAEbH,IAAI,CAAEY,SAAS,CAACZ,IAAI,CAACM,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAAb,CAAL,CAFF,CAGbJ,IAAI,CAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAHL,CAAjB,CAMA,QAASD,CAAAA,SAAT,CAAmBZ,IAAnB,CAAyB,CACrB,GAAIc,CAAAA,GAAG,CAAG,EAAV,CACA,IAAK,GAAIC,CAAAA,CAAT,GAAcf,CAAAA,IAAd,CAAoB,CAChBc,GAAG,CAACE,IAAJ,CAAS,CAAEC,IAAI,CAAEF,CAAR,CAAWG,KAAK,CAAElB,IAAI,CAACe,CAAD,CAAtB,CAAT,EACH,CACD,MAAOD,CAAAA,GAAP,CACH,CAED,MACI,4BAAK,SAAS,CAAEtB,OAAO,CAAC2B,aAAxB,EACK,oBAAC,SAAD,EACG,IAAI,CAAER,UADT,EADL,CAIK,oBAAC,UAAD,EACG,QAAQ,CAAEZ,QADb,CAEG,KAAK,CAAEE,KAFV,CAGG,IAAI,CAAEH,aAHT,CAIG,iBAAiB,CAAED,KAAK,CAACuB,iBAJ5B,EAJL,CADJ,CAaH,CApCD,CAsCA,cAAexB,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport KeyFigures from '../KeyFigures/KeyFigures';\nimport _ from 'lodash';\n\nconst visualisation = props => {\n    const { \n        keyFigureList, \n        language, data,\n        query, history } = props;\n\n    let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n    dataType = keyFigureList.filter(d => d.type === query.keyfigure );\n\n    let filterData = {\n        country: country,\n        data: cleanData(data[dataType[0].label]),\n        type: dataType[0].label\n    }\n    \n    function cleanData(data) {\n        let res = [];\n        for (let i in data) {\n            res.push({ year: i, value: data[i]})\n        }\n        return res;\n    }\n\n    return (\n        <div className={classes.Visualisation}> \n             <LineGraph \n                data={filterData}\n             />\n             <KeyFigures \n                language={language}\n                query={query}\n                data={keyFigureList}             \n                onKeyFigureChange={props.onKeyFigureChange}\n             />\n        </div>\n    )\n};\n\nexport default visualisation;"]},"metadata":{},"sourceType":"module"}