{"ast":null,"code":"var _jsxFileName = \"/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/pac-digitalstories/src/Components/Visualisation/Visualisation.js\";\nimport React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport KeyFigures from '../KeyFigures/KeyFigures';\nimport _ from 'lodash';\n\nconst visualisation = props => {\n  const keyFigureList = props.keyFigureList,\n        language = props.language,\n        data = props.data,\n        query = props.query,\n        history = props.history;\n  let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n      dataType = keyFigureList.filter(d => d.type === query.keyfigure);\n  let filterData = {\n    country: country,\n    data: cleanData(data[dataType[0].label]),\n    type: dataType[0].label\n  };\n\n  function cleanData(data) {\n    let res = [];\n\n    for (let i in data) {\n      res.push({\n        year: i,\n        value: data[i]\n      });\n    }\n\n    return res;\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.Visualisation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(LineGraph, {\n    data: filterData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }), React.createElement(KeyFigures, {\n    language: language,\n    query: query,\n    data: keyFigureList,\n    onKeyFigureChange: props.onKeyFigureChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }));\n};\n\nexport default visualisation;","map":{"version":3,"sources":["/Users/wonjiky/OneDrive - OECD/SWAC/Africapolis/PAC/Interactive graph/pac-digitalstories/src/Components/Visualisation/Visualisation.js"],"names":["React","classes","LineGraph","KeyFigures","_","visualisation","props","keyFigureList","language","data","query","history","country","location","pathname","dataType","filter","d","type","keyfigure","filterData","cleanData","label","res","i","push","year","value","Visualisation","onKeyFigureChange"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;;AAEA,MAAMC,aAAa,GAAGC,KAAK,IAAI;AAAA,QAEvBC,aAFuB,GAIJD,KAJI,CAEvBC,aAFuB;AAAA,QAGvBC,QAHuB,GAIJF,KAJI,CAGvBE,QAHuB;AAAA,QAGbC,IAHa,GAIJH,KAJI,CAGbG,IAHa;AAAA,QAIvBC,KAJuB,GAIJJ,KAJI,CAIvBI,KAJuB;AAAA,QAIhBC,OAJgB,GAIJL,KAJI,CAIhBK,OAJgB;AAM3B,MAAIC,OAAO,GAAGD,OAAO,CAACE,QAAR,CAAiBC,QAAjB,KAA8B,KAA9B,GAAsC,YAAtC,GAAqD,SAAnE;AAAA,MACAC,QAAQ,GAAGR,aAAa,CAACS,MAAd,CAAqBC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWR,KAAK,CAACS,SAA3C,CADX;AAGA,MAAIC,UAAU,GAAG;AACbR,IAAAA,OAAO,EAAEA,OADI;AAEbH,IAAAA,IAAI,EAAEY,SAAS,CAACZ,IAAI,CAACM,QAAQ,CAAC,CAAD,CAAR,CAAYO,KAAb,CAAL,CAFF;AAGbJ,IAAAA,IAAI,EAAEH,QAAQ,CAAC,CAAD,CAAR,CAAYO;AAHL,GAAjB;;AAMA,WAASD,SAAT,CAAmBZ,IAAnB,EAAyB;AACrB,QAAIc,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIC,CAAT,IAAcf,IAAd,EAAoB;AAChBc,MAAAA,GAAG,CAACE,IAAJ,CAAS;AAAEC,QAAAA,IAAI,EAAEF,CAAR;AAAWG,QAAAA,KAAK,EAAElB,IAAI,CAACe,CAAD;AAAtB,OAAT;AACH;;AACD,WAAOD,GAAP;AACH;;AAED,SACI;AAAK,IAAA,SAAS,EAAEtB,OAAO,CAAC2B,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,oBAAC,SAAD;AACG,IAAA,IAAI,EAAER,UADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,EAIK,oBAAC,UAAD;AACG,IAAA,QAAQ,EAAEZ,QADb;AAEG,IAAA,KAAK,EAAEE,KAFV;AAGG,IAAA,IAAI,EAAEH,aAHT;AAIG,IAAA,iBAAiB,EAAED,KAAK,CAACuB,iBAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJL,CADJ;AAaH,CApCD;;AAsCA,eAAexB,aAAf","sourcesContent":["import React from 'react';\nimport classes from './Visualisation.module.css';\nimport LineGraph from './LineGraph/LineGraph';\nimport KeyFigures from '../KeyFigures/KeyFigures';\nimport _ from 'lodash';\n\nconst visualisation = props => {\n    const { \n        keyFigureList, \n        language, data,\n        query, history } = props;\n\n    let country = history.location.pathname === '/fr' ? 'Country_FR' : 'Country',\n    dataType = keyFigureList.filter(d => d.type === query.keyfigure );\n\n    let filterData = {\n        country: country,\n        data: cleanData(data[dataType[0].label]),\n        type: dataType[0].label\n    }\n    \n    function cleanData(data) {\n        let res = [];\n        for (let i in data) {\n            res.push({ year: i, value: data[i]})\n        }\n        return res;\n    }\n\n    return (\n        <div className={classes.Visualisation}> \n             <LineGraph \n                data={filterData}\n             />\n             <KeyFigures \n                language={language}\n                query={query}\n                data={keyFigureList}             \n                onKeyFigureChange={props.onKeyFigureChange}\n             />\n        </div>\n    )\n};\n\nexport default visualisation;"]},"metadata":{},"sourceType":"module"}